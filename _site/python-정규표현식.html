<h1 id="정규-표현식-이란">정규 표현식 이란?</h1>

<p>정규 표현식은 특정 규칙을 가진 문자열의 집합을 표현하는 형식 언어로, 찾고자 하는 문자열 패턴을 정의하고 기존 문자열과 일치하는지를 비교하여 문자열을 검색하거나 다른 문자열로 치환하는 데 사용됩니다.</p>

<ul>
  <li>파이썬에서는 표준 라이브러리인 re 모듈을 import 해야 정규 표현식을 사용할 수 있습니다.</li>
</ul>

<h2 id="메타문자">메타문자</h2>

<h3>|</h3>

<p><code class="language-plaintext highlighter-rouge">A|B</code>라는 정규식이 있다면 A 또는 B라는 의미가 된다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'Crow|Servo'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'CrowHello'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">re</span><span class="p">.</span><span class="n">Match</span> <span class="nb">object</span><span class="p">;</span> <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">match</span><span class="o">=</span><span class="s">'Crow'</span><span class="o">&gt;</span>
</code></pre></div></div>

<h3 id="-1">^</h3>

<p><code class="language-plaintext highlighter-rouge">^</code> 메타 문자는 문자열의 맨 처음과 일치함을 의미가 된다.</p>

<p><code class="language-plaintext highlighter-rouge">re.MULTILINE</code>을 사용할 경우에는 여러 줄의 문자열일 때 각 줄의 처음과 일치하게 된다</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'^Life'</span><span class="p">,</span> <span class="s">'Life is too short'</span><span class="p">))</span>
<span class="o">&lt;</span><span class="n">re</span><span class="p">.</span><span class="n">Match</span> <span class="nb">object</span><span class="p">;</span> <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">match</span><span class="o">=</span><span class="s">'Life'</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'^Life'</span><span class="p">,</span> <span class="s">'My Life'</span><span class="p">))</span>
<span class="bp">None</span>
</code></pre></div></div>

<h3 id="-2">$</h3>

<p><code class="language-plaintext highlighter-rouge">$</code>는 문자열의 끝과 매치함을 의미한다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'short$'</span><span class="p">,</span> <span class="s">'Life is too short'</span><span class="p">))</span>
<span class="o">&lt;</span><span class="n">re</span><span class="p">.</span><span class="n">Match</span> <span class="nb">object</span><span class="p">;</span> <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span> <span class="n">match</span><span class="o">=</span><span class="s">'short'</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'short$'</span><span class="p">,</span> <span class="s">'Life is too short, you need python'</span><span class="p">))</span>
<span class="bp">None</span>
</code></pre></div></div>

<h2 id="패턴">패턴</h2>

<p>패턴이야말로 정규 표현식을 강력하게 해줍니다. 특수문자 혹은 메타 문자라 불리는 <code class="language-plaintext highlighter-rouge">[]. -. . ? * + {} /</code> 등을 이용해 특수한 패턴을 만들 수 있습니다.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">[ ]</code> : 문자</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-</code> : 범위</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">.</code> : 하나의 문자</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">?</code> : 0회 또는 1회 반복</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">*</code> : 0회 이상 반복</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">+</code> : 1회 이상 반복</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">{m, n}</code> : m ~ n</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\A</code> : 는 문자열의 처음과 매치됨을 의미한다.</p>

    <p><code class="language-plaintext highlighter-rouge">re.MULTILINE</code> 옵션을 사용할 경우 <code class="language-plaintext highlighter-rouge">^</code>은 각 줄의 문자열의 처음과 매치되지만 <code class="language-plaintext highlighter-rouge">\A</code>는 줄과 상관없이 전체 문자열의 처음하고만 매치된다.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\b</code> : 단어 경계,  보통 단어는 whitespace에 의해 구분된다.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\B</code> : 비 단어 경계</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\d</code> : 숫자, <code class="language-plaintext highlighter-rouge">[0-9]</code>와 동일</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\D</code> : 비 숫자, <code class="language-plaintext highlighter-rouge">[^0-9]</code>와 동일</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\w</code> : 알파벳 문자 + 숫자 + <code class="language-plaintext highlighter-rouge">_</code>, <code class="language-plaintext highlighter-rouge">[a-zA-Z0-9_]</code>와 동일</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\W</code> : 비 알파벳 문자 + 비숫자, <code class="language-plaintext highlighter-rouge">[^a-zA-Z0-9_]</code>와 동일</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\s</code> : 공백 문자, <code class="language-plaintext highlighter-rouge">[ \t\n\r\f\v]</code>와 동일</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\S</code> : 비 공백 문자, <code class="language-plaintext highlighter-rouge">[^ \t\n\r\f\v]</code>와 동일</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\t</code> : 가로 탭(tab)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\v</code> : 세로 탭(vertical tab)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\f</code> : 폼 피드</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\n</code> : 라인 피드(개행문자)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\r</code> : 캐리지 리턴(원시 문자열)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">\Z</code> : 문자열의 끝과 매치됨을 의미한다.</p>

    <p><code class="language-plaintext highlighter-rouge">re.MULTILINE</code> 옵션을 사용할 경우 <code class="language-plaintext highlighter-rouge">$</code> 메타 문자와는 달리 전체 문자열의 끝과 매치된다.</p>
  </li>
</ul>

<h3 id="그루핑">그루핑</h3>

<p>특정 문자열이 반복되는지 조사하는 정규식으로 그룹을 만들어 주는 메타 문자는 <code class="language-plaintext highlighter-rouge">( )</code>입니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'(ABC)+'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'ABCABCABC OK?'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">re</span><span class="p">.</span><span class="n">Match</span> <span class="nb">object</span><span class="p">;</span> <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="n">match</span><span class="o">=</span><span class="s">'ABCABCABC'</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">group</span><span class="p">())</span>
<span class="n">ABCABCABC</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">"\w+\s+\d+[-]\d+[-]\d+"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">"park 010-1234-1234"</span><span class="p">)</span>
</code></pre></div></div>

<p>여기서 특정 부분의 문자열만 뽑아내기 위해서는 다음과 같이 작성한다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">"(\w+)\s+\d+[-]\d+[-]\d+"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">"park 010-1234-1234"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">park</span>
</code></pre></div></div>

<p>그루핑안에 그룹을 더 추가할 수있다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">"(\w+)\s+(\d+[-]\d+[-]\d+)"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">"park 010-1234-1234"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="mi">010</span><span class="o">-</span><span class="mi">1234</span><span class="o">-</span><span class="mi">1234</span>
</code></pre></div></div>

<p>그룹의 인덱스는 다음과 같은 의미를 가진다.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">group(인덱스)</th>
      <th style="text-align: left">설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">group(0)</td>
      <td style="text-align: left">매치된 전체 문자열</td>
    </tr>
    <tr>
      <td style="text-align: left">group(1)</td>
      <td style="text-align: left">첫 번째 그룹에 해당되는 문자열</td>
    </tr>
    <tr>
      <td style="text-align: left">group(2)</td>
      <td style="text-align: left">두 번째 그룹에 해당되는 문자열</td>
    </tr>
    <tr>
      <td style="text-align: left">group(n)</td>
      <td style="text-align: left">n 번째 그룹에 해당되는 문자열</td>
    </tr>
  </tbody>
</table>

<p>국번 부분만 뽑아내고 싶을시는 다음과 같이 그루핑을 더 추가해준다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">"(\w+)\s+((\d+)[-]\d+[-]\d+)"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">"park 010-1234-1234"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="mi">010</span>
</code></pre></div></div>

<p>혹은, 그룹에 이름을 붙여줄 수도 있다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="err">?</span><span class="n">P</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>\<span class="n">w</span><span class="o">+</span><span class="p">)</span>\<span class="n">s</span><span class="o">+</span><span class="p">((</span>\<span class="n">d</span><span class="o">+</span><span class="p">)[</span><span class="o">-</span><span class="p">]</span>\<span class="n">d</span><span class="o">+</span><span class="p">[</span><span class="o">-</span><span class="p">]</span>\<span class="n">d</span><span class="o">+</span><span class="p">)</span>
</code></pre></div></div>

<p>ex)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">"(?P&lt;name&gt;\w+)\s+((\d+)[-]\d+[-]\d+)"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">"park 010-1234-1234"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="s">"name"</span><span class="p">))</span>
<span class="n">park</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">'(?P&lt;word&gt;\b\w+)\s+(?P=word)'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'Paris in the the spring'</span><span class="p">).</span><span class="n">group</span><span class="p">()</span>
<span class="s">'the the'</span>
</code></pre></div></div>

<h2 id="메소드-설명">메소드 설명</h2>

<h3 id="compile">compile()</h3>

<h3 id="findall">findall()</h3>

<h3 id="search">search()</h3>

<h3 id="match">match()</h3>

<h3 id="findall-1">findall()</h3>

<h3 id="split">split()</h3>

<h3 id="strip">strip()</h3>

<p>문자열의 처음과 끝에 있는 공백 제거</p>

<h3 id="sub">sub()</h3>

<h3 id="group">group()</h3>

<hr />

<h6 id="출처">출처</h6>

<ul>
  <li>
    <p>AIFFEL LMS</p>
  </li>
  <li>
    <p>https://wikidocs.net/4309</p>

    <p>todo : 전방탐색부터</p>

    <p>문제시 말해주세요</p>
  </li>
</ul>
